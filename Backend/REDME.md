# Database Structure Documentation

## Collections Overview

### 1. Users
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                             |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|-----------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB         |
| 2   | `username`       | String       | 50   | No         | Unique        |                  |                                        | User login name                   |
| 3   | `password`       | String       | 255  | No         |               |                  |                                        | Encrypted password                |
| 4   | `email`          | String       | 100  | No         | Unique        |                  |                                        | User's email                      |
| 5   | `fullName`       | String       | 100  | Yes        |               |                  |                                        | User's full name                  |
| 6   | `roles`          | [String]     | -    | No         |               | ["customer"]     |                                        | "customer"restaurantOwner"admin"  |
| 7   | `status`         | String       | 20   | No         |               | "active"         | ENUM("active", "inactive", "banned")   | Account status                    |
| 8   | `avatarUrl`      | String       | 255  | Yes        |               |                  |                                        | Avatar image URL                  |
| 9   | `lastLogin`      | Date         | -    | Yes        |               |                  |                                        | Last login time                   |
| 10  | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Account creation time             |

### 2. Restaurants
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                             |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|-----------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB         |
| 2   | `ownerId`        | ObjectId     | -    | No         | Foreign Key   |                  | References `users.id`                  | Restaurant owner                  |
| 3   | `name`           | String       | 100  | No         |               |                  |                                        | Restaurant name                   |
| 4   | `address`        | String       | 255  | Yes        |               |                  |                                        | Restaurant address                |
| 5   | `phone`          | String       | 20   | Yes        |               |                  |                                        | Contact phone number              |
| 6   | `description`    | String       | 500  | Yes        |               |                  |                                        | Restaurant description            |
| 7   | `category`       | String       | 50   | Yes        |               |                  |                                        | Category (e.g., Japanese, Italian)|
| 8   | `averageRating`  | Number       | -    | Yes        |               |                  |                                        | Average user rating               |
| 9   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Restaurant creation time          |

### 3. Menu Items
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `restaurantId`   | ObjectId     | -    | No         | Foreign Key   |                  | References `restaurants.id`            | Associated restaurant              |
| 3   | `name`           | String       | 100  | No         |               |                  |                                        | Dish name                          |
| 4   | `description`    | String       | 255  | Yes        |               |                  |                                        | Dish description                   |
| 5   | `price`          | Number       | -    | No         |               |                  |                                        | Dish price                         |
| 6   | `imageUrl`       | String       | 255  | Yes        |               |                  |                                        | Dish image URL                     |
| 7   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 4. Posts
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `userId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `users.id`                  | Post author                        |
| 3   | `title`          | String       | 255  | Yes        |               |                  |                                        | Post title                         |
| 4   | `content`        | String       | 1000 | No         |               |                  |                                        | Post content                       |
| 5   | `imageUrl`       | String       | 255  | Yes        |               |                  |                                        | Post image URL                     |
| 6   | `likesCount`     | Number       | -    | Yes        |               |                  |                                        | Number of likes                    |
| 7   | `viewsCount`     | Number       | -    | Yes        |               |                  |                                        | Number of views                    |
| 8   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 5. Reviews
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `userId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `users.id`                  | Reviewer                           |
| 3   | `targetType`     | String       | 20   | No         |               |                  | ENUM("restaurant", "menuItem")         | Target type                        |
| 4   | `targetId`       | ObjectId     | -    | No         | Foreign Key   |                  | References `restaurants.id`            | Reviewed target                    |
| 5   | `rating`         | Number       | -    | No         |               |                  | 1-5                                    | Rating score                       |
| 6   | `comment`        | String       | 1000 | Yes        |               |                  |                                        | Comment content                    |
| 7   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 6. Notifications
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `userId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `users.id`                  | Notification recipient             |
| 3   | `content`        | String       | 255  | No         |               |                  |                                        | Notification content               |
| 4   | `isRead`         | Boolean      | -    | No         |               | FALSE            |                                        | Read status                        |
| 5   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 7. Comments
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `postId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `posts.id`                  | Post the comment belongs to        |
| 3   | `userId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `users.id`                  | Comment author                     |
| 4   | `content`        | String       | 1000 | No         |               |                  |                                        | Comment content                    |
| 5   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 8. Reactions
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `postId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `posts.id`                  | Post the reaction belongs to       |
| 3   | `userId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `users.id`                  | User who reacted                   |
| 4   | `reactionType`   | String       | 20   | No         |               |                  | ENUM("like", "love")                   | Reaction type                      |
| 5   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 9. Comments Restaurant
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `restaurantId`   | ObjectId     | -    | No         | Foreign Key   |                  | References `restaurants.id`            | Restaurant the comment belongs to  |
| 3   | `userId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `users.id`                  | Comment author                     |
| 4   | `content`        | String       | 1000 | No         |               |                  |                                        | Comment content                    |
| 5   | `like`           | Number       | -    | Yes        |               |                  |                                        | Number of likes                    |
| 6   | `dislike`        | Number       | -    | Yes        |               |                  |                                        | Number of dislikes                 |
| 7   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 10. Comments Menu Item
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `menuItemId`     | ObjectId     | -    | No         | Foreign Key   |                  | References `menuItems.id`              | Menu item the comment belongs to   |
| 3   | `userId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `users.id`                  | Comment author                     |
| 4   | `content`        | String       | 1000 | No         |               |                  |                                        | Comment content                    |
| 5   | `like`           | Number       | -    | Yes        |               |                  |                                        | Number of likes                    |
| 6   | `dislike`        | Number       | -    | Yes        |               |                  |                                        | Number of dislikes                 |
| 7   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 11. Comments Post
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `postId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `posts.id`                  | Post the comment belongs to        |
| 3   | `userId`         | ObjectId     | -    | No         | Foreign Key   |                  | References `users.id`                  | Comment author                     |
| 4   | `content`        | String       | 1000 | No         |               |                  |                                        | Comment content                    |
| 5   | `like`           | Number       | -    | Yes        |               |                  |                                        | Number of likes                    |
| 6   | `dislike`        | Number       | -    | Yes        |               |                  |                                        | Number of dislikes                 |
| 7   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 12. CategoryMenuItem
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `categoryName`   | String       | 50   | No         |               |                  |                                        | Category name (e.g., Appetizer)    |
| 3   | `description`    | String       | 255  | Yes        |               |                  |                                        | Category description               |
| 4   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

### 13. CategoryRestaurant
| No. | Field Name       | Data Type    | Size | Allow Null | Key           | Default Value    | Constraints                            | Notes                              |
|-----|------------------|--------------|------|------------|---------------|------------------|----------------------------------------|------------------------------------|
| 1   | `id`             | ObjectId     | -    | No         | Primary Key   |                  |                                        | Auto-generated by MongoDB          |
| 2   | `categoryName`   | String       | 50   | No         |               |                  |                                        | Category name (e.g., Japanese)     |
| 3   | `description`    | String       | 255  | Yes        |               |                  |                                        | Category description               |
| 4   | `createdAt`      | Date         | -    | No         |               | CURRENT          |                                        | Creation time                      |

## Additional Notes
- **Indexes**: Should be added to frequently queried fields such as `username`, `email`, `name`, and `category` to improve performance.
- **Role Management**: Define user roles (`customer`, `restaurantOwner`, `admin`) and their corresponding permissions.
- **Naming Convention**: Use **camelCase** for all field names consistently across the database.

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Đường dẫn 
http://localhost:8080/api/v1/users
---
http://localhost:8080/api/v1/menu_item
---
http://localhost:8080/api/v1/restaurants
---
http://localhost:8080/api/v1/posts
---
http://localhost:8080/api/v1/commentPost
---
http://localhost:8080/api/v1/commentMenu
---
http://localhost:8080/api/v1/commentRestaurant
---
http://localhost:8080/api/v1/categoryRestaurant
---
http://localhost:8080/api/v1/categoryMenuItem
---

